{% extends 'admin_base.html.twig' %}

{% block title %} Liste des commentaires {% endblock %}

{% block body %}

<div class="container">
    <h1> Liste des commentaires</h1>
    <div class="row">
      {% for comment  in comments %}
          <div class="col-md-6">
            <div class="card m-3">
              <div class="card-header">
                   <h6 class="card-title">  Crée le     {{comment.createdAt|format_date('medium')}} 
                   par  {{comment.user}} </h6> 
                   {% if comment.approved == true %}
                   <div class="alert alert-success">Approuvé  OUI</div> 
                   {% else %}
                   <div class="alert alert-danger"> Approuvé NON</div> 
                   {% endif %}
              </div>
              <div class="card-body">
              
                   <div class="card-text"> 
                 {{comment.content|raw|u.truncate('245')}}
                 </div>
              </div>     
           
              <div class="card-footer ">
              <div class="row">
                   <div class="col-sm-3">  <a class="btn btn-info"  href="{{path('admin_comment_edit', {'id': comment.id}) }}"><i class="fa fa-edit"></i></a></div>
                   <div class="col-sm-3">    {% include "admin/comment/_delete_form.html.twig" %}</div>
                          {% if comment.commentLu == true %}
							 
                            <a  class="btn  btn-success" href="{{path('admin_comments_list')}}" data-toggle="tooltip" data-placement="bottom"  title="Revenir vers la liste des commentaires">
														<i class="fa fa-check" ></i> Réponse envoyée</a>
														 {% else %}
                   <div class="col-sm-4"> <a class="btn btn-success" href="{{path('admin_comment_response', {'id': comment.id}) }}"> <i class="fa fa-reply"></i> Répondre</a> </div>
                   {% endif %}
                 </div>
                 
              </div>
            </div>
          
          </div>
     
     {% endfor %}
    
        <div class="col-sm-12">
							<div class="navigation float-right mr-5">
                     {{ knp_pagination_render(comments) }}
          </div>
</div>
          </div>
   
</div>
{% endblock %}
