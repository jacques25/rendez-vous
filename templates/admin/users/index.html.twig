{% extends "admin_base.html.twig" %}

{% block titte %} les utilisateurs {% endblock %}

{% block body %}
<div class="container">
 <h1> Les utilisateurs </h1>
  
   <table class="table table-fluid">
    <thead>
     <tr>
        <td>PrÃ©nom</td>
        <td>Nom</td>
        <td>Email</td>
        <td>Roles</td>
        <td>Adresse</td>
        <td>Nombre de commandes</td>
        <td> Action </td>
     </tr>
    </thead>

    <tbody> 
    {% for user in users %}
    <tr>
      <td>{{user.email}}</td>
       
        {% for address in user.addresses %}
           <td> {{address.lastName}}</td>
          <td> {{address.firstName}}</td>
          <td>{{address.street}} {{address.cp}}  {{address.city}}</td>

         {% endfor %}
    
     
     <td>
         {% for role in user.roles %}
             {{role}}</br>
         {% endfor %}
   </td>
     
   
      {% if user.commandes %}
       <td>  {{user.commandes|length}} </td>
      {% endif %}
      
   
 
         <td> 
         <a href="#" > <i class="fas fa-envelope"></i></a>
         <a href="{{path('admin_user_edit', {'id': user.id})}}" > <i class="fas fa-edit"></i></a>
         </td>
    </tr>
      {% endfor %}
    </tbody>
   
   </table>
  
</div>

{% endblock %}
